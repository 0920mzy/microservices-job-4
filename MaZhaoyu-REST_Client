<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REST Client</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>

    <div class="container">
        <table id="table" class="class="table table-striped table-dark"">
            <thead>
              <tr>
                <th scope="col">#id</th>
                <th scope="col">name</th>
                <th scope="col">username</th>
                <th scope="col">email</th>
				<th scope="col">WebSite</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
                <td>WebSite1</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
                <td>WebSite2</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>Larry</td>
                <td>the Bird</td>
                <td>@twitter</td>
                <td>WebSite3</td>
              </tr>
            </tbody>
          </table>
    </div>
    
</body>

<script>
    var myRequest1 = new Request('http://localhost:54321/api/booking/get/all');
    fetch(myRequest1)
    .then(function(response) {
      if (!response.ok) {
        throw new Error("HTTP error, status = " + response.status);
      }
      return response.blob();
    })
    .then(function(json) {
      var data = document.createElement('p');
      p.appendChild(
        document.createTextNode(json)
      );
    })
    .catch(function(error) {
      var p = document.createElement('p');
      p.appendChild(
        document.createTextNode('Error: ' + error.message)
      );
    });


    var myRequest2 = new Request('https://jsonplaceholder.typicode.com/users');
    fetch(myRequest2)
    .then(function(response) {
      if (!response.ok) {
        throw new Error("HTTP error, status = " + response.status);
      }
      return response.blob();
    })
    .then(function(json) {
      var t = document.getElementById("table");
      var trs = t.getElementsByTagName("tr");
      var rowCount = trs.length;
      for (var x = rowCount - 1; x > 0; x--) {
        elmtTable.removeChild(tableRows[x]);
      }
      
      var index = 0;
      for(var i = 0; i < json.length; i++) {
        index++;
        var row = t.insertRow(index);

        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(4);

        cell1.outerHTML = "<th></th>";
        cell1.innerHTML = i.id;
        cell2.innerHTML = i.name;
        cell3.innerHTML = i.username;
        cell4.innerHTML = i.email;

      }
    })
    .catch(function(error) {
      var p = document.createElement('p');
      p.appendChild(
        document.createTextNode('Error: ' + error.message)
      );
    });

</script>
</html>
